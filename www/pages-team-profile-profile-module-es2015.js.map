{"version":3,"sources":["./src/app/pages/team/profile/profile.page.html","./src/app/pages/team/profile/profile-routing.module.ts","./src/app/pages/team/profile/profile.module.ts","./src/app/pages/team/profile/profile.page.scss","./src/app/pages/team/profile/profile.page.ts"],"names":[],"mappings":"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","file":"pages-team-profile-profile-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Equipo </ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n\\n    <!-- <ion-buttons slot=\\\"secondary\\\" *ngIf=\\\"canEdit\\\">\\n      <ion-button (click)=\\\"showEdit()\\\">\\n        <ion-icon name=\\\"create\\\"></ion-icon>      \\n      </ion-button>\\n    </ion-buttons> -->\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content *ngIf=\\\"team\\\">\\n\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"init($event)\\\">\\n    <ion-refresher-content></ion-refresher-content>\\n  </ion-refresher>\\n\\n\\n  <div>\\n    <ion-chip class=\\\"chip-admin ion-text-center\\\" color=\\\"secondary\\\" *ngIf=\\\"isAdmin\\\">\\n      <ion-text class=\\\"msj-is-admin\\\">\\n        Eres el administrador de este perfil, puede activar la edicion aquí.\\n      </ion-text>\\n      <ion-toggle [(ngModel)]=\\\"canEdit\\\"></ion-toggle>\\n\\n    </ion-chip>\\n  </div>\\n\\n  <div class=\\\"shield-content\\\">\\n    <div>\\n      <img class=\\\"cover\\\" [src]=\\\"getCover()\\\" alt=\\\"Portada\\\">\\n    </div>\\n\\n    <div class=\\\"shield-team bg-l2\\\">\\n      <ion-avatar>\\n        <img class=\\\"shield\\\" [src]=\\\"getShield()\\\" alt=\\\"Escudo\\\">\\n      </ion-avatar>\\n      <span class=\\\"name-team\\\">{{team.name}}</span>\\n    </div>\\n\\n    <div *ngIf=\\\"canEdit\\\">\\n      <ion-button expand=\\\"block\\\" fill=\\\"outline\\\" (click)=\\\"showEdit()\\\">\\n        <ion-icon name=\\\"create\\\"></ion-icon>      \\n        Editar</ion-button>\\n    </div>\\n  </div>\\n\\n \\n  \\n  <app-notificatio-selected\\n    *ngIf=\\\"false\\\"\\n    [object]=\\\"team\\\"\\n    [table_name]=\\\"'Team'\\\"\\n    [table_id] = \\\"id\\\"\\n  ></app-notificatio-selected>\\n\\n<ion-card *ngIf=\\\"playersList.length || canEdit\\\">\\n  <ion-card-header>\\n    <ion-item>\\n      <ion-card-title>\\n        Jugadores\\n      </ion-card-title>\\n      <ion-button *ngIf=\\\"canEdit\\\" slot=\\\"end\\\" [routerLink]=\\\"'/team/' +id +'/players'\\\" routerDirection=\\\"forward\\\" >\\n        <ion-icon name=\\\"create\\\"></ion-icon>      \\n      </ion-button>\\n    </ion-item>\\n  </ion-card-header>\\n\\n  <ion-card-content>\\n    \\n    <app-player-list \\n      [items] = \\\"playersList\\\"\\n      (eventLoad)=\\\"loadPlayers($event)\\\"\\n      (eventSelect)=\\\"playerSelect($event)\\\" \\n      [loading] = \\\"playersLoading\\\"\\n      [errorLoad]=\\\"playersErrorLoad\\\"\\n    ></app-player-list>\\n  </ion-card-content>\\n\\n</ion-card>\\n\\n  <app-red-list\\n    [nameModel] = \\\"'Team'\\\"\\n    [idModel] = \\\"id\\\"\\n    [isAdmin] = \\\"canEdit\\\"\\n    ></app-red-list>\\n\\n<app-comments\\n  [comments] = \\\"team.comments\\\"\\n  [idRelation]=\\\"id\\\"\\n  [nameRelationModel]=\\\"'Team'\\\"\\n\\n></app-comments>\\n\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProfilePage } from './profile.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProfilePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProfilePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProfilePageRoutingModule } from './profile-routing.module';\n\nimport { ProfilePage } from './profile.page';\nimport {ComponentsModule} from '../../../components/components.module'\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ProfilePageRoutingModule,\n    ComponentsModule\n  ],\n  declarations: [ProfilePage]\n})\nexport class ProfilePageModule {}\n","export default \".cover {\\n  width: 100%;\\n}\\n\\n.shield-team {\\n  display: flex;\\n  align-items: center;\\n  padding: 5px;\\n  padding-left: 30px;\\n}\\n\\n.shield {\\n  width: 50px;\\n  height: 50px;\\n}\\n\\n.name-team {\\n  display: inline;\\n  margin-left: 10px;\\n  font-size: x-large;\\n  /*vertical-align: middle;*/\\n}\\n\\n.shield-content {\\n  margin-bottom: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvdGVhbS9wcm9maWxlL3Byb2ZpbGUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksV0FBQTtBQUNKOztBQUVBO0VBQ0ksYUFBQTtFQUNBLG1CQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0FBQ0o7O0FBRUE7RUFDSSxXQUFBO0VBQ0EsWUFBQTtBQUNKOztBQUVBO0VBQ0ksZUFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSwwQkFBQTtBQUNKOztBQUVBO0VBQ0ksbUJBQUE7QUFDSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3RlYW0vcHJvZmlsZS9wcm9maWxlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb3ZlcntcbiAgICB3aWR0aDogMTAwJTtcbn1cblxuLnNoaWVsZC10ZWFte1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBwYWRkaW5nOiA1cHg7XG4gICAgcGFkZGluZy1sZWZ0OiAzMHB4O1xufVxuXG4uc2hpZWxke1xuICAgIHdpZHRoOiA1MHB4O1xuICAgIGhlaWdodDogNTBweDtcbn1cblxuLm5hbWUtdGVhbXtcbiAgICBkaXNwbGF5OiBpbmxpbmU7XG4gICAgbWFyZ2luLWxlZnQ6IDEwcHg7XG4gICAgZm9udC1zaXplOiB4LWxhcmdlO1xuICAgIC8qdmVydGljYWwtYWxpZ246IG1pZGRsZTsqL1xufVxuXG4uc2hpZWxkLWNvbnRlbnR7XG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbn0iXX0= */\";","import { Component, OnInit, ɵConsole } from '@angular/core';\nimport { Route } from '@angular/compiler/src/core';\nimport { ActivatedRouteSnapshot, ActivatedRoute } from '@angular/router';\nimport { Model } from 'src/app/api/models/model';\nimport { RequestService } from 'src/app/api/request.service';\nimport { ModalController, NavController } from '@ionic/angular';\nimport { ListRedirectPage } from '../../util/list-redirect/list-redirect.page';\nimport { AuthUserService } from 'src/app/services/auth-user.service';\nimport { FormPage } from '../form/form.page';\nimport { UtilArrayService } from 'src/app/services/util-array.service';\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.page.html',\n  styleUrls: ['./profile.page.scss'],\n})\nexport class ProfilePage implements OnInit {\n\n  public id : string = '0';\n  public teamModel : Model;\n  public team :any = null;\n  public isAdmin = false;\n  public canEdit = false;\n\n  playersList : any = [];\n  playersLoading = true;\n  playersErrorLoad = false;\n\n  constructor(\n    public route : ActivatedRoute,\n    public requesService : RequestService,\n    public modalController : ModalController,\n    public navCtrl : NavController,\n    public authUser : AuthUserService,\n    public utilArray : UtilArrayService\n\n  ) {\n\n    this.id = this.route.snapshot.paramMap.get('id');\n    this.teamModel = new Model('Team',requesService);\n\n   }\n\n  ngOnInit() {\n    this.init()\n  }\n\n  init($events = null){\n    /*\n    this.teamModel.api_find(this.id).subscribe(data => {\n      if(data['status'] == 'success')\n        this.team = data['Team'];\n    })*/\n    this.playersLoading = true;\n    this.teamModel.api_functionModel(this.id,'pageProfile').subscribe(\n      response => {\n        console.log(response);\n        if(response['status'] == 'success'){\n          this.team = response['data'];\n          this.playersList = this.team.players;\n        }\n        this.playersLoading = false;\n        this.loadPermissions();\n        if($events)\n          $events.target.complete();\n      },\n      error => {\n        this.playersLoading = false;\n        this.playersErrorLoad = false;\n        console.error(error)\n        if($events)\n          $events.target.complete();\n      }\n    )\n\n    //this.loadPlayers()\n  }\n\n  loadPermissions(){\n    this.isAdmin = this.authUser.isAdminTeam(this.id);\n  }\n\n  getCover(){\n    return this.team.cover_page ? this.team.cover_page.urlComplete : 'assets/images/cover.jpg' ; \n  }\n\n  getShield(){\n    return this.team.shield ? this.team.shield.urlComplete : 'assets/images/shield_team.png';\n  }\n\n  async showMenu(){\n    let list = [\n      {\n        name : 'Editar Equipo',\n        route : ''\n      },\n      {\n        name : 'Admi. Jugadores',\n        route : `team/${this.id}/players`\n      },\n      {\n        name : 'Admi. Partidos',\n        rote : ''\n      }\n    ];\n    const modal = await this.modalController.create({\n      component: ListRedirectPage ,\n      componentProps: { \n        title : 'Administrar',\n        list: list }\n    });\n\n    modal.onDidDismiss().then(data=>{\n      console.log(data);\n      \n    })\n\n    return await modal.present();\n   }\n\n   setLog(num){\n     console.log('set log in page profile, num : ' , num)\n   }\n\n   loadPlayers(event){\n     this.playersLoading = true;\n      this.teamModel.api_loadAttribute(this.id,'players').subscribe(\n        response => {\n\n          if(response['status'] == 'success'){\n            this.playersList = response['Team']['players'];\n          }\n          this.playersLoading = false\n        },\n        error => {\n          this.playersLoading = false\n          this.playersErrorLoad = true;\n        }\n      )\n   }\n\n   playerSelect(player){\n      console.log('goTo',player)\n      this.navCtrl.navigateForward(`player/profile/${player.id}`);\n    \n   }\n\n\n   async showEdit(){\n    const modal = await this.modalController.create({\n      component: FormPage ,\n      componentProps: { \n        id: this.id,\n        adminTeam : true\n      }\n    });\n\n    modal.onDidDismiss().then(data=>{\n      console.log('return edit')\n      const team = data.data['team'];\n      this.utilArray.updateAttribustesObject(this.team , team , ['name','shield_id','cover_page_id','shield','cover_page']);\n    })\n\n    return await modal.present();\n   }\n\n   \n\n}\n"],"sourceRoot":"webpack:///"}