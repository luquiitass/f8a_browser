{"version":3,"sources":["webpack:///src/app/pages/notification/list/list.page.html","webpack:///src/app/pages/notification/list/list-routing.module.ts","webpack:///src/app/pages/notification/list/list.module.ts","webpack:///src/app/pages/notification/list/list.page.scss","webpack:///src/app/pages/notification/list/list.page.ts"],"names":["routes","path","component","ListPageRoutingModule","imports","forChild","exports","ListPageModule","declarations","ListPage","request","userAuth","utilArray","navCtrl","notifications","notificationModel","userModel","init","$event","api_functionModel","user","id","subscribe","console","log","counts_not","saveUser","response","target","complete","error","not","notification","listUpdate","navigateForward","route","selector","template"],"mappings":"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","file":"pages-notification-list-list-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"admin_home\\\"></ion-back-button>    \\n    </ion-buttons>\\n    <ion-title>Notificaciones</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"init($event)\\\">\\n    <ion-refresher-content></ion-refresher-content>\\n  </ion-refresher>\\n\\n\\n  <ion-list>\\n\\n    <ion-list-header *ngIf=\\\"notifications.length == 0\\\"  color=\\\"light\\\">\\n      <ion-label>No posee notificaciones</ion-label>\\n    </ion-list-header>\\n \\n\\n    <ion-item *ngFor=\\\"let not of notifications\\\"  (click)=\\\"visibleNot(not)\\\" [class]=\\\"{'no-active' : not.isShow}\\\">\\n      <app-notification\\n        style=\\\"width: 100%;\\\"\\n        [notification] = \\\"not\\\"\\n      ></app-notification>\\n    </ion-item>\\n\\n  </ion-list>\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ListPage } from './list.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ListPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ListPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ListPageRoutingModule } from './list-routing.module';\n\nimport { ListPage } from './list.page';\nimport {ComponentsModule} from '../../../components/components.module'\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ListPageRoutingModule,\n    ComponentsModule\n  ],\n  declarations: [ListPage]\n})\nexport class ListPageModule {}\n","export default \".no-active {\\n  --ion-background-color: #e9ebee !important;\\n}\\n\\n.date {\\n  font-size: x-small;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvbm90aWZpY2F0aW9uL2xpc3QvbGlzdC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSwwQ0FBQTtBQUNKOztBQUVBO0VBQ0ksa0JBQUE7QUFDSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL25vdGlmaWNhdGlvbi9saXN0L2xpc3QucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm5vLWFjdGl2ZXtcbiAgICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiAjZTllYmVlICFpbXBvcnRhbnQ7XG59XG5cbi5kYXRle1xuICAgIGZvbnQtc2l6ZTogeC1zbWFsbDtcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { Model } from 'src/app/api/models/model';\nimport { RequestService } from 'src/app/api/request.service';\nimport { AuthUserService } from 'src/app/services/auth-user.service';\nimport { UtilArrayService } from 'src/app/services/util-array.service';\nimport { NavController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-list',\n  templateUrl: './list.page.html',\n  styleUrls: ['./list.page.scss'],\n})\nexport class ListPage implements OnInit {\n\n  public notifications = [];\n  public notificationModel : Model;\n  public userModel : Model;\n\n  constructor(\n    public request : RequestService,\n    public userAuth : AuthUserService,\n    public utilArray : UtilArrayService,\n    public navCtrl : NavController\n  ) {\n    this.notificationModel = new Model('Notification',request);\n    this.userModel = new Model('User',request);\n   }\n\n  ngOnInit() {\n    this.init();\n  }\n\n\n  init($event = null){\n\n    this.userModel.api_functionModel(this.userAuth.user.id , 'resetNotifications').subscribe(()=>{\n      console.log('restart count  notifications')\n      this.userAuth.user.counts_not = 0;\n      this.userAuth.saveUser();\n    })\n\n    this.notifications = this.userAuth.user.notifications ? this.userAuth.user.notifications : [] ;\n    \n    this.userModel.api_functionModel(this.userAuth.user.id ,'pageNotifications',{}).subscribe(\n      response => {\n        console.log(response);\n        this.notifications = response['data']\n        if($event)\n          $event.target.complete();\n      },\n      error => {\n        console.log(error)\n        if($event)\n          $event.target.complete();\n      }\n    )\n  }\n\n  openModal(){\n\n  }\n\n  visibleNot(not){\n    if(not.id)\n      this.notificationModel.api_functionModel(not.id,'viewed').subscribe(\n        (response)=>{\n          let notification = response['data'];\n          this.utilArray.listUpdate(this.notifications ,notification.id , notification);\n      })\n\n    this.navCtrl.navigateForward(not.route);\n  }\n\n}\n"]}