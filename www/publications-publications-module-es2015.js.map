{"version":3,"sources":["./src/app/pages/home/publications/publications.page.html","./src/app/pages/home/publications/publications-routing.module.ts","./src/app/pages/home/publications/publications.module.ts","./src/app/pages/home/publications/publications.page.scss","./src/app/pages/home/publications/publications.page.ts"],"names":[],"mappings":"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","file":"publications-publications-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>publications</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content >\\n\\n  <div *ngIf=\\\"!firstLoad\\\">\\n    <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"init($event)\\\">\\n      <ion-refresher-content></ion-refresher-content>\\n    </ion-refresher>\\n  \\n    <ion-button expand=\\\"block\\\" fill=\\\"outline\\\" (click)=\\\"openModal()\\\">Nueva Publicacion</ion-button>\\n  \\n    <ion-list>\\n        \\n      <ion-list-header *ngIf=\\\"publications.length == 0\\\"  color=\\\"tertiary\\\">\\n        <ion-label>Sin registros</ion-label>\\n      </ion-list-header>\\n  \\n      <ion-item *ngFor=\\\"let item of publications;let i = index\\\">\\n        <ion-card style=\\\"width: 100%;\\\" >\\n          <ion-card-content>\\n            <ion-button class=\\\"menu-right\\\"fill=\\\"clear\\\" (click)=\\\"openMenuPublication(item)\\\" *ngIf=\\\"authUser.user.id == item.user_id\\\">\\n              <ion-icon name=\\\"ellipsis-vertical-outline\\\"></ion-icon>\\n            </ion-button>\\n\\n            <div class=\\\"publication-user\\\">\\n              <ion-thumbnail slot=\\\"start\\\">\\n                <ion-img\\n                  (click)=\\\"showPhotoUser(item.user.photo)\\\"\\n                  class=\\\"user-image\\\"\\n                  [src]=\\\"item.user.photo ? item.user.photo.urlCompleteThumb : pathImages.images.profile_user  \\\"\\n                  style=\\\"border-radius:50%; background-position:center center; background-size:cover; width:40px; height:40px;\\\">\\n              </ion-img>\\n              </ion-thumbnail>\\n    \\n              <div class=\\\"user\\\">\\n                <div class=\\\"name\\\">\\n                  {{item.user.last_name}} {{item.user.first_name}}\\n                </div>\\n                <div class=\\\"date\\\">\\n                  {{util.getFormarHumans(item.created_at)}}\\n                </div>\\n              </div>\\n            </div>\\n    \\n            <div class=\\\"publication-text\\\">\\n              <ion-text color=\\\"dark\\\">\\n                {{item.text}}\\n              </ion-text>\\n            </div>\\n    \\n            <div class=\\\"publication-image ion-text-center\\\" *ngIf=\\\"item.image_id\\\">\\n              <img [src]=\\\"item.image.urlComplete\\\">\\n            </div>\\n    \\n            <ion-grid>\\n              <ion-row >\\n                <ion-col class=\\\"ion-text-left\\\"  (click)=\\\"showPublication(item , 'likes',i)\\\">\\n                  <ion-text  color=\\\"dark\\\" >\\n                    <ion-icon name=\\\"heart-outline\\\" color=\\\"danger\\\"></ion-icon>\\n                    {{item.likes_count}}\\n                  </ion-text>\\n                </ion-col>\\n                <ion-col class=\\\"ion-text-right\\\" (click)=\\\"showPublication(item , 'comments')\\\">\\n                  <ion-text >\\n                    <ion-icon name=\\\"chatbubble-ellipses-outline\\\"></ion-icon>\\n                    {{item.comments_count}}\\n                  </ion-text>\\n                </ion-col>\\n              </ion-row>\\n            </ion-grid>\\n          \\n            <div class=\\\"separator\\\"></div>\\n    \\n            <div>\\n              <ion-buttons expand=\\\"full\\\" >\\n                <ion-button expand=\\\"full\\\" style=\\\"width: 50%;\\\" [color]=\\\"item.liked ? 'danger' : 'primary'\\\" (click)=\\\"like(item)\\\" [disabled]=\\\"item.processLike ? true : false\\\">\\n                  <ion-icon  name=\\\"heart-outline\\\" *ngIf=\\\"!item.processLike\\\" ></ion-icon>\\n                  <ion-spinner name=\\\"lines\\\" *ngIf=\\\"item.processLike\\\" ></ion-spinner>\\n                </ion-button>\\n                <ion-button expand=\\\"full\\\"  style=\\\"width: 50%;\\\" color=\\\"primary\\\" (click)=\\\"showPublication(item , 'comments')\\\">\\n                  <ion-icon name=\\\"chatbubble-ellipses-outline\\\"></ion-icon>\\n                </ion-button>\\n              </ion-buttons>\\n            </div>\\n    \\n          </ion-card-content>\\n        </ion-card>\\n      </ion-item>\\n   \\n   \\n    \\n    </ion-list>\\n  </div>\\n\\n\\n  <div *ngIf=\\\"firstLoad\\\">\\n    <ion-card *ngFor=\\\"let item of listSkeleton\\\" >\\n      <ion-card-content>\\n        <div class=\\\"publication-user\\\">\\n          <ion-avatar slot=\\\"start\\\">\\n            <ion-skeleton-text  animated ></ion-skeleton-text>\\n          </ion-avatar>\\n\\n          <div class=\\\"user\\\">\\n            <div class=\\\"name\\\">\\n              <ion-skeleton-text  animated style=\\\"width: 150px; height: 20px;;\\\"></ion-skeleton-text>\\n            </div>\\n            <div class=\\\"date\\\">\\n              <ion-skeleton-text  animated style=\\\"width: 70px;\\\"></ion-skeleton-text>\\n            </div>\\n          </div>\\n        </div>\\n\\n        <div class=\\\"publication-text\\\">\\n          <ion-text color=\\\"dark\\\">\\n            <ion-skeleton-text  animated style=\\\"width: 100%; height: 20px;\\\"></ion-skeleton-text>\\n            <ion-skeleton-text  animated style=\\\"width: 90%; height: 20px;\\\"></ion-skeleton-text>\\n\\n          </ion-text>\\n        </div>\\n\\n        <div class=\\\"publication-image ion-text-center\\\">\\n          <ion-thumbnail  style=\\\"height: 200px; width: 100%;\\\">\\n            <ion-skeleton-text  animated style=\\\"width: 100%; height: 100%;\\\"></ion-skeleton-text>\\n          </ion-thumbnail>\\n        </div>\\n\\n        <ion-grid>\\n          <ion-row >\\n            <ion-col class=\\\"ion-text-left\\\" >\\n              <ion-text  color=\\\"dark\\\" >\\n                <ion-icon name=\\\"heart-outline\\\"></ion-icon>\\n\\n              </ion-text>\\n            </ion-col>\\n            <ion-col class=\\\"ion-text-right\\\" >\\n                <ion-icon name=\\\"chatbubble-ellipses-outline\\\"></ion-icon>\\n            </ion-col>\\n          </ion-row>\\n        </ion-grid>\\n      \\n        <div class=\\\"separator\\\"></div>\\n\\n        <div>\\n          <ion-buttons expand=\\\"full\\\" >\\n            <ion-button expand=\\\"full\\\" style=\\\"width: 50%;\\\" >\\n              <ion-icon  name=\\\"heart-outline\\\"></ion-icon>\\n            </ion-button>\\n            <ion-button expand=\\\"full\\\"  style=\\\"width: 50%;\\\" >\\n              <ion-icon name=\\\"chatbubble-ellipses-outline\\\"></ion-icon>\\n            </ion-button>\\n          </ion-buttons>\\n        </div>\\n\\n      </ion-card-content>\\n    </ion-card>\\n  </div>\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PublicationsPage } from './publications.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PublicationsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PublicationsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PublicationsPageRoutingModule } from './publications-routing.module';\n\nimport { PublicationsPage } from './publications.page';\n\nimport { NgxIonicImageViewerModule } from 'ngx-ionic-image-viewer';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PublicationsPageRoutingModule,\n    NgxIonicImageViewerModule\n  ],\n  declarations: [PublicationsPage]\n})\nexport class PublicationsPageModule {}\n","export default \".publication-user {\\n  display: flex;\\n}\\n.publication-user .user {\\n  display: block;\\n}\\n.publication-user .user .name {\\n  margin-top: 5px;\\n  font-size: medium;\\n}\\n.publication-user .user .date {\\n  margin-left: 5px;\\n  font-size: xx-small;\\n}\\n.publication-text {\\n  margin: 3px;\\n  margin-left: 15px;\\n  font-size: medium;\\n}\\n.publication-image {\\n  align-self: auto;\\n}\\n.separator {\\n  margin-left: 10px;\\n  margin-right: 10px;\\n  border-bottom: solid 1px rgba(63, 62, 62, 0.671);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvaG9tZS9wdWJsaWNhdGlvbnMvcHVibGljYXRpb25zLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGFBQUE7QUFDSjtBQUNJO0VBQ0ksY0FBQTtBQUNSO0FBQ1E7RUFDSSxlQUFBO0VBQ0EsaUJBQUE7QUFDWjtBQUVRO0VBQ0ksZ0JBQUE7RUFDQSxtQkFBQTtBQUFaO0FBTUE7RUFDSSxXQUFBO0VBQ0EsaUJBQUE7RUFDQSxpQkFBQTtBQUhKO0FBTUE7RUFDSSxnQkFBQTtBQUhKO0FBTUE7RUFDSSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0RBQUE7QUFISiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2hvbWUvcHVibGljYXRpb25zL3B1YmxpY2F0aW9ucy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucHVibGljYXRpb24tdXNlcntcbiAgICBkaXNwbGF5OiBmbGV4O1xuXG4gICAgLnVzZXJ7XG4gICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuXG4gICAgICAgIC5uYW1le1xuICAgICAgICAgICAgbWFyZ2luLXRvcDogNXB4O1xuICAgICAgICAgICAgZm9udC1zaXplOiBtZWRpdW07O1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIC5kYXRle1xuICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDVweDtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogeHgtc21hbGw7XG4gICAgICAgIH1cblxuICAgIH1cbn1cblxuLnB1YmxpY2F0aW9uLXRleHR7XG4gICAgbWFyZ2luOiAzcHg7XG4gICAgbWFyZ2luLWxlZnQ6IDE1cHg7XG4gICAgZm9udC1zaXplOiBtZWRpdW07XG59XG5cbi5wdWJsaWNhdGlvbi1pbWFnZXtcbiAgICBhbGlnbi1zZWxmOiBhdXRvO1xufVxuXG4uc2VwYXJhdG9ye1xuICAgIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICAgIG1hcmdpbi1yaWdodDogMTBweDtcbiAgICBib3JkZXItYm90dG9tOiBzb2xpZCAxcHggcmdiYSg2MywgNjIsIDYyLCAwLjY3MSk7XG59XG5cbiJdfQ== */\";","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ModalController, NavController, IonContent } from '@ionic/angular';\nimport { FormPublicationPage } from '../../publications/form-publication/form-publication.page';\nimport { UtilArrayService } from 'src/app/services/util-array.service';\nimport { Model } from 'src/app/api/models/model';\nimport { RequestService } from 'src/app/api/request.service';\nimport { ViewerModalComponent } from 'ngx-ionic-image-viewer';\nimport { UtilService } from 'src/app/services/util.service';\nimport { AuthUserService } from 'src/app/services/auth-user.service';\nimport { TransferDataService } from 'src/app/services/transfer-data.service';\nimport { Router } from '@angular/router';\nimport { PublicationPage } from '../../publications/publication/publication.page';\nimport { DialogService } from 'src/app/api/util/dialog.service';\nimport { PathsImagesService } from 'src/app/services/paths-images.service';\n\n@Component({\n  selector: 'app-publications',\n  templateUrl: './publications.page.html',\n  styleUrls: ['./publications.page.scss'],\n})\nexport class PublicationsPage implements OnInit {\n\n  public publcationModel : Model;\n  public publications  = [];\n  public user : any;\n\n\n  public firstLoad = true;\n  public listSkeleton = new Array(8)\n  private processLike = false;\n\n\n  constructor(\n    public modalController: ModalController,\n    public utilArray : UtilArrayService,\n    public request : RequestService,\n    public util : UtilService,\n    public authUser : AuthUserService,\n    public navCtrl : NavController,\n    public transferData : TransferDataService,\n    private router: Router,\n    public dialog : DialogService,\n    public pathImages : PathsImagesService\n  ) {\n    this.publcationModel = new Model('Publication',request);\n\n   }\n\n  async ngOnInit() {\n    this.user = await this.authUser.getUser();\n    this.init();\n  }\n\n  \n  async init($event = null){\n    //await this.util.delay(5000);\n    this.publcationModel.api_function('list',{}).subscribe(\n      response => {\n        console.log(response);\n        if(response['status'] == 'success')\n          this.publications = response['data'];\n\n        if($event){\n          $event.target.complete();\n        }\n        this.firstLoad = false;\n      },\n      error => {\n        console.log(error);\n        if($event){\n          $event.target.complete();\n        }\n        this.firstLoad = false;\n      }\n    )\n  }\n\n  async openModal() {\n    const modal = await this.modalController.create({\n      component: FormPublicationPage ,\n      componentProps : {\n        //date : this.tabs && this.tabs[this.tabSelected] ? this.tabs[this.tabSelected].date : ''\n      }\n    });\n\n    modal.onDidDismiss().then(data=>{\n      console.log('crate puvlivsa')\n      const publication = data.data['publication'];\n      this.utilArray.listAddFirst( this.publications , publication );\n      \n    })\n\n    return await modal.present();\n   }\n\n\n   async showPhotoUser(photo){\n     console.log('show photo ', photo)\n    const modal = await this.modalController.create({\n      component: ViewerModalComponent,\n      componentProps: {\n        src: photo ? photo.urlComplete : 'assets/images/profile.jpg',\n        scheme : 'dark'\n      },\n      cssClass: 'ion-img-viewer',\n      keyboardClose: true,\n      showBackdrop: true,\n    });\n\n    return await modal.present();\n   }\n\n\n   async like(publication){\n     publication.processLike = true;\n     \n     if(publication.liked){\n      this.publcationModel.api_functionModel(publication.id,'removeLike',{user_id : this.user.id}).subscribe(\n        response => {\n          if(response['status'] == 'success'){\n            publication.liked = ! publication.liked;\n            publication.likes_count -= 1; \n            //this.utilArray.listUpdate(this.publications , publication.id , publication)\n          }\n          publication.processLike = false;\n        },\n        error => {\n          console.error(error);\n          publication.processLike = false;\n        }\n      )\n     }\n     else {\n      this.publcationModel.api_functionModel(publication.id,'addLike',{user_id : this.user.id}).subscribe(\n        response => {\n          if(response['status'] == 'success'){\n            publication.liked = ! publication.liked;\n            publication.likes_count += 1;\n            //this.utilArray.listUpdate(this.publications , publication.id , publication)\n          }\n          publication.processLike = false;\n        },\n        error => {\n          console.error(error);\n          publication.processLike = false;\n        }\n      )\n     }\n   }\n\n\n   async showPublication(publication , segment = 'comments',index = null){\n\n    const modal = await this.modalController.create({\n      component: PublicationPage ,\n      componentProps : {\n        id : publication.id,\n        segment : segment\n      }\n    });\n\n    modal.onDidDismiss().then(data=>{\n      console.log('update publication')\n      const publication = data.data['publication'];\n      \n      this.utilArray.listUpdate( this.publications, publication.id ,publication );\n     \n    })\n\n    return await modal.present();\n   }\n\n\n   openMenuPublication(publication){\n  \n    this.dialog.actionSheetEditDelete(\n      ()=>{\n        this.editPublication(publication);\n      },\n      ()=>{\n        this.dialog.presentAlertConfirm('Alerta','¿Seguro de eliminar esta aplicación?',()=>{\n          this.publcationModel.api_delete(publication.id).subscribe(\n            response => {\n              if(response['status'] = 'success'){\n                this.utilArray.listDelete(this.publications , publication.id);\n                this.dialog.showToast('Publicacion Eliminada',null,'success')\n              }\n            }\n          );\n        })\n      }\n    )\n   }\n\n   async editPublication(publication){\n    const modal = await this.modalController.create({\n      component: FormPublicationPage ,\n      componentProps : {\n        id : publication.id\n      }\n    });\n\n    modal.onDidDismiss().then(data=>{\n      console.log('update publicacion')\n      if(data.data && data.data['publication']){\n        const publication = data.data['publication'];\n        this.utilArray.listUpdate( this.publications , publication.id, publication );\n      }\n    })\n\n    return await modal.present();\n   }\n\n\n\n}\n"],"sourceRoot":"webpack:///"}